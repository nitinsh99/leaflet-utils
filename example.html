<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
    <style>
        body {
            margin: 0;
            height: 100vh;
        }
        .flex-column {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        .flex {
            flex: 1;
        }
        .controls {
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="flex-column">
        <div id="map" class="flex"></div>
        <div class="controls">

            <button onclick="play()">Play</button>
            <button onclick="pause()">Pause</button>
            <button onclick="stop()">Stop</button>
        </div>
    </div>
</body>
<script src="dist/main.browser.js"></script>
<script>
  var s = "sk{dFdxfjVmib~wwAa@KEc@KEa@MEKCA??A??Ac@GEOCA??A??Aa@KEc@KEa@KEa@KEc@ME]IA??ACAAa@KEc@KEa@KA??A??A??EHk@EHk@EDUA??CFi@A??A?AA@_@A??C@MAAUA?IA?C?A[A??A??ACUA??AESAEMA??CIYAEMCAEA??CMUA??AIKAMOA?AC[]EIK?OOA??A??AKKACAC??AC?AG?A??A??A[]AOQE??A??ACSA?????AKM?IKA??AGI???AMU???AAAAAAAEMC???EMA??AI[AAE???AIWAAIAMg@E???Me@A??A?CAMi@EMi@EI]A??CKi@EMi@EKk@EKi@EMi@EKi@EMk@EGYA??ACOAKi@EMi@EKk@EI_@EKi@EMk@E?CACMC??AEWA?GAAKAAYA?GA?CE????WA@OA@EA@KA@QC??ADWADQA@KA??AH_@AJi@EJi@E@C???AFW???ABOAJi@EJi@EBMA??AH]AJi@EJi@EJk@EBKAF]CJi@EH_@ABKCDSEJi@EBQA??AFYAJi@EDSADUC@GAJc@CBKE??A??AJk@AJg@E@CA??AHi@AHi@EDWE??AHk@CHk@EBMA??AD]A@MA??CBWADSA??AJi@EJi@EJk@EH]A@KCLi@EJk@EJi@EJi@EJk@ELi@EJi@EJk@EJi@EJi@ELk@EF_@EJi@EBGAHc@CHi@E???Jk@E???Ji@E???@EA??AHe@A???Ha@A@GCJk@EJi@EF_@E??AJi@CLk@E?AAJg@CJi@EBOE??AHk@CHe@A@ECFk@A??A??A??EFk@E??A??AFk@AFk@E@C???A@W???ABQAFk@EFk@E@IA??A??AFk@E???Fk@E???Fk@E???BWABSC???Fe@A?EC???Hk@E???@EA??C???Hk@E???Hi@E???@GAHc@C???@GAHa@CBOAD[CJk@EJi@EHg@A?CCDUA??CHk@EF[A@OCHk@EFk@EHk@EFk@EBUADSC???BOAFS???A@EA?CE???BEAHOA??ADKA??ARSAJMA??A??AXIE??A??AU_@A??AWa@CCEA??CQSAGICIMAOQC[]ECCAU[CY]EQSE???OQA??AKKAMMAMOC???QOAIKC[[ECCA??C[[E[[E[[E[[ECEA??AYWAWWE???MIA??AOMAECE??A_@SCCCA[OC]SA??C]UAA?COME??A[[C?AA??AUUA??A??AY[AEEAQWA??AIOAIQCO]AEECUc@A??C??EYa@EKOAKMCY_@EGEA??C[_@EY[EAAAYYCKKE??A??A[[A???SSAGGC???][E???[[E???GGA??C???]YE???WUAECC???[WE???CCE??A_@WCKIAQICSMA??A??A_@UE_@UE_@UE]SE]UAA?C_@SE_@SEKGE?????ASKAKEAKGE??AKGAQKA???UMA??AKGAGCE??A??A_@SAa@QEOKAOGC_@SE_@SEA?E??A_@SCa@QECCAYMC??A]KACAA???MCA??C???SEAOAC???EAE?????AOAAS?AA?E??A]?AE@AU@A??CWBAKBCMBA??C]HACBCQFE??AIDAOHA??AOJAMJAMHA??C[ZE]XECBE??A[ZC]ZE[XE[ZE]ZE?@A[XC[XE]ZE[XE[ZEIFASRC[ZEWTE??A??A]VAMHAOLC[TE??AWPAGBAMHA??C_@RE_@REEBA[LCSHE??Aa@NCOFAQDCC@A??A??AELE??A??Aa@JASDA??A??Ac@HEUDA??AK@AMBE?????AYD???AI@AC?E??A??AUGAc@FEc@FEO@A??A?@Ac@DE[DA??AE@AUDA??CYFA??AGBAc@JEE@A??Ca@NE?????AUHA??AYLAEBCOHE???ULAIDC???MHAQJCA@A[TC???C@A??C???]VE???]VE???]VE???QLAKJC???]VE???CBE]XE]XEC@AYVCMJA??C[ZEGDASTCEBAUTA??AYZE[ZEA@ASTC??AY^CEDA??AQXAW\\A??A??AY^EOTA??AGHAY^EGHA??AOVASVA??AEFAY^EY`@EW\\EY^EGHE???EHA??AQVAUZA??ACBAY`@EW\\EY`@EA@A??AU\\AY^EW`@EW\\A??A??APTA??AFHATZA??CFJA??ALVADJA??A??ADTABNA??ABVA?DC?????A@L??LAAN??@A?FA??CAF?CNACLAABACNA??A??AQf@EOf@EOf@EQf@EOh@EOf@EQf@EOf@EOf@EQf@EOf@EADE??A??AMh@AENE???ALAEXA?BACVACRCARE?????AAf@AADA?b@A?FCAj@A??A?@A?NA??C?l@E?j@EAl@E?JA?`@C?`@A??AAJA?j@EAl@E?j@E?l@EAl@E?@A?j@CAj@E?l@EAl@E?j@EAl@E?j@A?@C?l@EAj@E?l@EAl@E?@E?????A?VAATA???ATE???Ab@A??A??A???Ij@ECPA??CGTACJA??AELAIPC??AIPAKPAUb@EW`@EUb@EUb@EW`@EUb@EUb@EA?E??AUb@CUb@EKPAKNCUb@EUb@EU^AA@CUb@EIRAINCCDE??AO\\C??AIVAENACJEELAGZCEPAGVCKh@EMj@EKh@EKd@E??AKh@CMj@EKh@E???Mh@EKh@EKj@EMh@E???Kh@E???Kh@EMj@E???Kh@EMh@EKh@EKj@EEN?CNA??AAHAMh@EId@A??AABAABA??C?BAC@ACDA???C@AA@?C?AC?A???C?ACA???AQI?GCAICE[KAEACICE?????AOEAIAA??AO?AG?A?@?M@AI@A??AGBAGBA??AKHAMJA??AOTACFACDA?@ECDAAHAENAAFAADAARA??A?RA?FA?FA??ADVA?????AFXADLA@@ANb@CRf@EPd@EPf@E@BA??AL\\A???JRAHLA??AFLAHHAFFA?@ADBC?@ANHAFFA???FBAJD???A??AMh@EKh@EMh@EKj@EMh@EKh@EADA??AKb@AMh@EKh@EMh@EKh@ECFA??A??A???Kh@E???ERE?????E???"
//  console.log(ht);
  var marker = L.marker([0, 0]);
  var replay =  new ht.replay(s, function (data) {
    console.log(data);
    marker.setLatLng(data.currentPosition).addTo(map)
  });
  console.log(replay.getStats());
  var play = function () {
        replay.play()
    };

    var pause = function() {
        replay.pause()
    };

    var stop = function () {
        replay.stop()
    }

  var map = L.map('map').setView([51.505, -0.09], 13);

  L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
  }).addTo(map);

  var path = replay.getTimelineArray();
  var polyline = L.polyline(path).addTo(map);
  map.fitBounds(polyline.getBounds())
</script>
</html>